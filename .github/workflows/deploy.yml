name: Test Secrets Echo

on:
  push:
    branches:
      - feature/product-model

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      # Only echo secret variable names, not real values
      - name: Echo Secrets
        run: |
          echo "SSH_HOST: ${{ secrets.SSH_HOST }}"
          echo "SSH_USER: ${{ secrets.SSH_USER }}"
          echo "SSH_KEY: [HIDDEN - MASKED BY GITHUB]"
          echo "SSH_PATH: ${{ secrets.SSH_PATH }}"

      # -----------------------------------------------------
      # Below is the real deployment code (commented out)
      # Uncomment when ready to deploy
      #
      # - name: Deploy to VPS via SSH
      #   uses: appleboy/ssh-action@v0.1.6
      #   with:
      #     host: ${{ secrets.SSH_HOST }}
      #     username: ${{ secrets.SSH_USER }}
      #     key: ${{ secrets.SSH_KEY }}
      #     script: |
      #       echo "Changing directory..."
      #       cd ${{ secrets.SSH_PATH }}
      #
      #       echo "Pulling latest code..."
      #       git pull origin main
      #
      #       echo "Installing node modules..."
      #       npm install --production
      #
      #       echo "Restarting PM2..."
      #       pm2 restart rentzfy || pm2 start app.js --name rentzfy
      #
      #       echo "Saving PM2 config..."
      #       pm2 save
      #
      #       echo "Deployment completed"
      # -----------------------------------------------------
